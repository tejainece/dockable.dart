<!DOCTYPE html>

<link href="../../../packages/polymer/polymer.html" rel="import">

<link rel="import" href="stage_element.html">
<polymer-element name="dock-stage" attributes="stagewidth stageheight stagescale resizable">
  <template>
    <style>
      :host {
        position: absolute;
        background-color: gray;
        overflow: auto;
      }

      #canvas-parent {
        position: absolute;
        width: 100%;
        height: 100%;
      }

      #canvas {
        position: absolute;
        background-color: white;
        /*box-sizing: border-box;*/
        /*border: solid 1px black;*/

        background-size: cover;
        background-position: center;

        left: 0%;
        top: 0%;
        margin: 150px;

        width:{{stagewidth * stagescale}}px;
        height:{{stageheight * stagescale}}px;
      }

      #fake-canvas {
        position: absolute;
        /*box-sizing: border-box;*/
        /*border: solid 1px transparent;*/

        pointer-events:none;

        left: 0%;
        top: 0%;
        margin: 150px;

        width:{{stagewidth * stagescale}}px;
        height:{{stageheight * stagescale}}px;
      }
      
      #fake-canvas > .anchor-resize {
        width: 8px;
        height: 8px;
        display: none;
        position: absolute;
        
        background-color: cornflowerblue;
        pointer-events:auto;
        
        -moz-user-select: -moz-none;
        -khtml-user-select: none;
        -webkit-user-select: none;
        -o-user-select: none;
        user-select: none;
      }
      
      #fake-canvas > .anchor-resize.show {
        display: block;
      }

      #fake-canvas > .anchor-nw {
        cursor: nw-resize;
      }

      #fake-canvas > .anchor-ne {
        cursor: ne-resize;
      }

      #fake-canvas > .anchor-sw {
        cursor: sw-resize;
      }

      #fake-canvas > .anchor-se {
        cursor: se-resize;
      }
      
      #fake-canvas > .auto-gline {
        background-color: red;
      
        display: none;
        position: absolute;
        pointer-events:auto;
        
        -moz-user-select: -moz-none;
        -khtml-user-select: none;
        -webkit-user-select: none;
        -o-user-select: none;
        user-select: none;
      }
      
      #fake-canvas > .auto-gline.show {
        display: block;
      }
      
      #fake-canvas > #ver-auto-gline {
        width: 1px;
        
        top: 0px;
        height: 100%;
      }
      
      #fake-canvas > #hor-auto-gline {
        height: 1px;
        
        left: 0px;
        width: 100%;
      }
      
      #scroll-adjuster {
        position: absolute;
        left: calc({{stagewidth * stagescale}}px + 150px);
        top: calc({{stageheight * stagescale}}px + 150px);
        width: 150px;
        height: 150px;
        background-color: transparent;
        pointer-events: none;
      }
    </style>

    <div id="canvas-parent">
      <div id="canvas">
      </div>
      <div id="fake-canvas">
        <div class="anchor-resize anchor-nw"></div>
        <div class="anchor-resize anchor-ne"></div>
        <div class="anchor-resize anchor-sw"></div>
        <div class="anchor-resize anchor-se"></div>
        
        <div id="ver-auto-gline" class="auto-gline"></div>
        <div id="hor-auto-gline" class="auto-gline"></div>
      </div>
      <div id="scroll-adjuster">
        
      </div>
    </div>
  </template>

  <script type="application/dart" src="stage.dart"></script>
</polymer-element>

