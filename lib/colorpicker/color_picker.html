<!DOCTYPE html>

<link href="../../../packages/polymer/polymer.html" rel="import">

<link rel="import" href="hsv_picker.html">
<link rel="import" href="alpha_slider.html">
<link rel="import" href="hue_slider.html">

<polymer-element name="color-picker" attributes="color">
  <template>
    <style>
      :host {
        padding: 5px 5px 5px 5px;
        background-color: #2a2a2a;

        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        border: 1px solid #ccc;
        border: 1px solid rgba(0,0,0,.2);

        display: inline-block;
        
        width: 300px;
        height: 132px;
        
        position: relative;
      }

      #hsv-holder {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: row;
      }

      .hsv-picker {
        width: 104px;
        height: 104px;
      }

      .hue-slider {
        margin-left: 5px;
        height: 104px;
        width: 20px;
      }
      
      #alpha-slider {
        margin-top: 10px;
        width: 125px;
        height: 20px;
      }
      
      #editor {
        width: 125px;
        height: 100px;
        display: inline-block;
        position: absolute;
      }
      
      #info-box {
        display: inline-block;
        font-family: sans-serif;
        font-size: 12px;
        color: white;
        
        border-radius: 8px;
        
        position: absolute;
        left: 150px;
        width: 80px;
      }
      
      .info-row {
        margin-bottom: 7px;
      }
      
      .info-name {
        color: white;
      }
      
      .info-value {
        margin: 0px 0px 0px 8px;
        padding: 2px 5px;
        box-shadow: rgba(255,255,255,0.1) 0 1px 0,rgba(0,0,0,0.8) 0 1px 7px 0px inset;
        color: #999;
        
        outline: none;
        border: none;
        background-color: transparent;
        width: 40px;
        text-align: right;
      }
      
      .info-preview {
        width: 155px;
        height: 20px;
        display: flex;
      }
      
      .info-preview-previous {
        cursor: pointer;
        
        width: 50%;
        height: 100%;
        display: inline-block;
      }
      
      .info-preview-current {
        cursor: pointer;
        
        width: 50%;
        height: 100%;
        display: inline-block;
      }
      
      #info-rgbhsv-holder {
        display: flex;
        width: 155px;
      }
      
      #info-hsv-holder {
        margin-left: 10px;
      }
    </style>
      <div id="editor">
      
        <div id="hsv-holder">
          <hsv-picker class="hsv-picker" hue="{{color.h}}" saturation="{{color.s}}" value="{{color.v}}"></hsv-picker>
          <hue-slider class="hue-slider" vertical hue="{{color.h}}"></hue-slider>
        </div>
      
        <alpha-slider id="alpha-slider" alpha="{{color.a}}" color="{{color}}"></alpha-slider>
        <!--<paper-slider id="alpha-slider" value="{{color.a}}" pin="" tabindex="0" min="0" max="100"></paper-slider>-->
      
      </div>
      
      
      <div id="info-box">
        <div class="info-preview info-row">
          <div class="info-preview-previous"></div>
          <div class="info-preview-current" style="background-color: {{color.rgbaString}}"></div>
        </div>
        
        <div id="info-rgbhsv-holder">
          <div id="info-rgb-holder">
            <div class="info-row">
              <span class="info-name">R</span>
              <input class="info-value" value="{{color.r | numberFormat}}">
            </div>
            <div class="info-row">
              <span class="info-name">G</span>
              <input class="info-value" value="{{color.g | numberFormat}}">
            </div>
            <div class="info-row">
              <span class="info-name">B</span>
              <input class="info-value" value="{{color.b | numberFormat}}">
            </div>
          </div>
          
          <div id="info-hsv-holder">
            <div class="info-row">
              <span class="info-name">H</span>
              <input class="info-value" value="{{color.h | numberFormat}}">
            </div>
            <div class="info-row">
              <span class="info-name">S</span>
              <input class="info-value" value="{{color.s | numberFormat}}">
            </div>
            <div class="info-row">
              <span class="info-name">V</span>
              <input class="info-value" value="{{color.v | numberFormat}}">
            </div>
          </div>
        </div>
        

        <div class="info-row">
          <span class="info-name">A</span>
          <span class="info-value">{{(color.a / 100) | numberFormat}}</span>
        </div>
      </div>
  </template>

  <script type="application/dart" src="color_picker.dart"></script>
</polymer-element>

